<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Games â€” Amethyst ðŸ‡¯ðŸ‡µ</title>
<link rel="icon" href="/he.png" type="image/x-icon">

<style>
  /* ------------------------------
     MD-SYS THEME (applied site-wide)
     ------------------------------ */
  :root{
    --md-sys-primary: #b00020;
    --md-sys-on-primary: #ffffff;
    --md-sys-primary-container: #ffdde0;
    --md-sys-on-primary-container: #410004;
    --md-sys-surface: #121212;
    --md-sys-on-surface: #e6e6e6;
    --md-sys-outline: rgba(255,255,255,0.12);
    --radius: 12px;
    --app-max-width: 980px;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  /* light-theme overrides (toggleable) */
  [data-theme="light"]{
    --md-sys-primary: #ff1f6b;
    --md-sys-on-primary: #ffffff;
    --md-sys-primary-container: #ffe6ef;
    --md-sys-on-primary-container: #410004;
    --md-sys-surface: #ffffff;
    --md-sys-on-surface: #111111;
    --md-sys-outline: rgba(0,0,0,0.08);
  }

  html,body{
    height:100%;
    margin:0;
    background: linear-gradient(180deg,#0d0d0d 0%, var(--md-sys-surface) 100%);
    color:var(--md-sys-on-surface);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    -webkit-text-size-adjust:100%;
    -ms-text-size-adjust:100%;
  }

  /* app wrapper â€” desktop shows subtle card, mobile removes it */
  .app {
    max-width:var(--app-max-width);
    margin:44px auto;
    padding:20px;
    border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 8px 30px rgba(0,0,0,0.55);
    border: 1px solid rgba(255,255,255,0.02);
    transition: all 160ms ease;
  }

  /* header */
  header{
    display:flex;
    align-items:center;
    gap:14px;
    justify-content:space-between;
  }

  .header-left {
    display:flex;
    align-items:center;
    gap:14px;
    min-width:0;
  }

  .logoCircle {
    width:56px;
    height:56px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
    border: 1px solid rgba(255,255,255,0.04);
    flex:0 0 56px;
  }
  .logoCircle img { width:100%; height:100%; object-fit:cover; display:block; }

  h1#page-title{
    margin:0;
    font-size:1.35rem;
    color:var(--md-sys-on-surface);
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
  }

  /* header controls (lang + theme) */
  .header-controls { display:flex; gap:8px; align-items:center; }

  select, button#theme-toggle {
    padding:8px 12px;
    border-radius:10px;
    border:1px solid var(--md-sys-outline);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    color:var(--md-sys-on-surface);
    cursor:pointer;
    font-size:0.95rem;
  }

  /* main content area */
  main{
    margin-top:14px;
  }

  /* games grid adapted to theme */
  .games-grid{
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(140px,1fr));
    gap:14px;
    padding:10px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border: 1px solid var(--md-sys-outline);
  }

  .game-tile{
    display:flex;
    flex-direction:column;
    gap:8px;
    padding:10px;
    border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border:1px solid rgba(255,255,255,0.03);
    color:var(--md-sys-on-surface);
    text-decoration:none;
    transition: transform .12s ease, box-shadow .12s ease;
    overflow:hidden;
  }

  .game-tile:hover{
    transform: translateY(-6px);
    box-shadow: 0 12px 32px rgba(0,0,0,0.55);
  }

  .game-thumb{
    width:100%;
    height:110px;
    object-fit:cover;
    border-radius:8px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.02);
    display:block;
  }

  .game-title{
    font-size:0.95rem;
    font-weight:700;
    word-break:break-word;
    color:var(--md-sys-on-surface);
  }

   .btn {
      padding:10px 18px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.12);
      background:rgba(255,255,255,0.03);
      color:var(--md-sys-on-surface);
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      transition:0.15s;
    }

    .btn:hover {
      transform:translateY(-2px);
      box-shadow:0 10px 26px rgba(0,0,0,0.6);
    }

    .btn.outline {
      background:transparent;
    }

  .footer-note{
    position:fixed;
    right:12px;
    bottom:12px;
    opacity:0.35;
    font-size:0.78rem;
    color:var(--md-sys-on-surface);
  }

  /* responsive: remove card visuals on mobile (content sits on background) */
  @media (max-width:600px){
    .app {
      margin:0;
      padding:12px;
      border-radius:0;
      background: transparent;
      box-shadow: none;
      border: none;
    }

    .games-grid{
      padding:6px;
      gap:10px;
      border-radius:0;
      border:none;
      background: transparent;
    }

    .game-thumb{ height:84px; }
    header { gap:10px; }
    .logoCircle { width:46px; height:46px; border-radius:10px; }
  }

  @media (max-width:420px){
    .game-thumb { height:72px; }
    .game-title { font-size:0.9rem; }
    h1#page-title { font-size:1.1rem; }
  }

  /* optional: subtle focus outlines for accessibility */
  .game-tile:focus,
  .game-tile a:focus { outline: 3px solid rgba(176,0,32,0.12); outline-offset:2px; }
</style>
</head>
<body>
  <div class="app" id="app-root">
    <header>
      <div class="header-left">
        <div class="logoCircle" aria-hidden="true"><img src="/he.png" alt="logo"></div>
        <h1 id="page-title">Games</h1>
      </div>

      <div class="header-controls">
        <select id="language-selector" aria-label="Language">
          <option value="en">English</option>
          <option value="es">EspaÃ±ol</option>
          <option value="ja">æ—¥æœ¬èªž</option>
        </select>
      </div>
    </header>

    <main id="content">
      <nav id="games-grid" class="games-grid" aria-live="polite">
        <!-- JS will populate this -->
      </nav>

      <div style="margin-top:14px;">
        <a class="btn" id="back-btn" href="/games/">Back to main page</a>
      </div>
    </main>
  </div>

  <div class="footer-note" id="footer-note"> </div>

<script>
const games = [
  // Example entry â€” edit or add your own
  { title: "???", file: "../games/mystery.html", img: "/game.png", note: "(In Beta)" },
  // Add your games below:
  // { title: "My Cool Game", file: "/games/cool.html", img: "/games/cool.gif" },
];

const translations = {
  en: {
    title: "Games",
    back: "Back to main page",
    noGames: "No games configured. Add entries to the `games` array in the script.",
    madeBy: " "
  },
  es: {
    title: "Juegos",
    back: "Volver a la pÃ¡gina principal",
    noGames: "No hay juegos configurados. AÃ±ade entradas al array `games` en el script.",
    madeBy: " "
  },
  ja: {
    title: "ã‚²ãƒ¼ãƒ ",
    back: "ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹",
    noGames: "ã‚²ãƒ¼ãƒ ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã® `games` é…åˆ—ã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚",
    madeBy: " "
  }
};

const langSel = document.getElementById('language-selector');
const pageTitle = document.getElementById('page-title');
const backBtn = document.getElementById('back-btn');
const footerNote = document.getElementById('footer-note');
const grid = document.getElementById('games-grid');
const themeToggle = document.getElementById('theme-toggle');

const browserLang = navigator.language.slice(0,2);
const defaultLang = ['en','es','ja'].includes(browserLang) ? browserLang : 'en';
langSel.value = defaultLang;
setLanguage(defaultLang);
langSel.addEventListener('change', () => setLanguage(langSel.value));

function setLanguage(lang){
  const t = translations[lang] || translations.en;
  pageTitle.textContent = t.title;
  backBtn.textContent = t.back;
  footerNote.textContent = t.madeBy;
  renderGrid();
}

// theme handling: default to dark, allow toggling to light
const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
let darkMode = typeof prefersDark === 'boolean' ? prefersDark : true;
function setTheme(d){
  document.documentElement.setAttribute('data-theme', d ? 'dark' : 'light');
  // small visual feedback: change toggle text (optional)
  themeToggle.textContent = d ? 'ðŸŒ™' : 'â˜€ï¸';
}
setTheme(darkMode);
themeToggle.addEventListener('click', () => { darkMode = !darkMode; setTheme(darkMode); });

// create tile DOM
function makeTile(item){
  const a = document.createElement('a');
  a.className = 'game-tile';
  a.href = item.file;
  a.target = '_self';
  a.rel = 'noopener';

  const img = document.createElement('img');
  img.className = 'game-thumb';
  img.alt = item.title || item.file;
  img.src = item.img || fallbackPlaceholderDataUri();

  const title = document.createElement('div');
  title.className = 'game-title';
  title.textContent = item.title || item.file;

  a.appendChild(img);
  a.appendChild(title);
  return a;
}

function fallbackPlaceholderDataUri(){
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(
    `<svg xmlns="http://www.w3.org/2000/svg" width="400" height="240"><rect fill="#1a1a1a" width="100%" height="100%"/><text x="50%" y="50%" font-size="18" text-anchor="middle" dominant-baseline="middle" fill="#888">No image</text></svg>`
  );
}

function renderGrid(){
  grid.innerHTML = '';
  if (!games || games.length === 0){
    const lang = langSel.value || 'en';
    const msg = (translations[lang] || translations.en).noGames;
    const d = document.createElement('div');
    d.style.gridColumn = '1/-1';
    d.style.textAlign = 'left';
    d.style.padding = '12px';
    d.style.color = 'var(--md-sys-on-surface)';
    d.textContent = msg;
    grid.appendChild(d);
    return;
  }

  for (const g of games){
    const tile = makeTile(g);
    grid.appendChild(tile);
  }
}

// initial render
renderGrid();
</script>
</body>
</html>
